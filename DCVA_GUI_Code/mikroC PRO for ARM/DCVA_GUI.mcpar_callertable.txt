main
	Start_TP
		Init_MCU
			GPIO_Digital_Output
				GPIO_Config
					GPIO_Clk_Enable
			TFT_Set_Default_Mode
			TP_TFT_Set_Default_Mode
		Init_Ext_Mem
			SPI3_Init_Advanced
				GPIO_Alternate_Function_Enable
					GPIO_Config_Pin_Alternate_Function
						GPIO_Config
				SPIx_Init_Advanced
			Mmc_Fat_Init
				Mmc_Init
					Mmc_Init_SPI
						GPIO_Config
						Mmc_DeSelect_SPI
							ADC1_Get_Sample
								ADCx_Get_Sample
									Delay_1us
							ADC2_Get_Sample
								ADCx_Get_Sample
							ADC3_Get_Sample
								ADCx_Get_Sample
							SPI1_Read
								SPIx_Read
							SPI2_Read
								SPIx_Read
							SPI3_Read
								SPIx_Read
						Mmc_Select_SPI
						Mmc_Send_Command_SPI
							ADC1_Get_Sample
							ADC2_Get_Sample
							ADC3_Get_Sample
							SPI1_Read
							SPI2_Read
							SPI3_Read
						Mmc_UnIdle_SPI
							Mmc_Select_SPI
							Mmc_Send_Command_SPI
							Mmc_DeSelect_SPI
							ADC1_Get_Sample
							ADC2_Get_Sample
							ADC3_Get_Sample
							SPI1_Read
							SPI2_Read
							SPI3_Read
						ADC1_Get_Sample
						ADC2_Get_Sample
						ADC3_Get_Sample
						SPI1_Read
						SPI2_Read
						SPI3_Read
					Mmc_Multi_Read_Stop_SPI
						Mmc_DeSelect_SPI
						ADC1_Get_Sample
						ADC2_Get_Sample
						ADC3_Get_Sample
						SPI1_Read
						SPI2_Read
						SPI3_Read
					Mmc_Multi_Write_Stop_SPI
						Mmc_DeSelect_SPI
						ADC1_Get_Sample
						ADC2_Get_Sample
						ADC3_Get_Sample
						SPI1_Read
						SPI2_Read
						SPI3_Read
					Mmc_Init_SDIO
						SD_PowerON
							SDIO_SetPowerState
							SDIO_ClockCmd
							SDIO_SendCommand
							CmdError
								SDIO_GetFlagStatus
								SDIO_ClearFlag
							CmdResp7Error
								SDIO_ClearFlag
							CmdResp1Error
								SDIO_ClearFlag
								SDIO_GetCommandResponse
							CmdResp3Error
								SDIO_ClearFlag
						SD_InitializeCards
							SDIO_GetPowerState
							SDIO_SendCommand
							CmdResp2Error
								SDIO_ClearFlag
							CmdResp6Error
								SDIO_ClearFlag
								SDIO_GetCommandResponse
						SD_SelectDeselect
							SDIO_SendCommand
							CmdResp1Error
						SD_EnableWideBusOperation
							SDEnWideBus
								FindSCR
									SDIO_SendCommand
									CmdResp1Error
									SDIO_DataConfig
									SDIO_GetFlagStatus
									SDIO_ReadData
									SDIO_ClearFlag
									__CC2DW
								SDIO_SendCommand
								CmdResp1Error
								__CC2DW
					Mmc_Multi_Read_Stop_SDIO
						SDIO_DataConfig
						SDIO_SendCommand
						CmdResp1Error
						SDIO_ClearFlag
					Mmc_Multi_Write_Stop_SDIO
						SDIO_SendCommand
						CmdResp1Error
						SDIO_ClearFlag
						IsCardProgramming
							SDIO_SendCommand
							SDIO_ClearFlag
							SDIO_GetCommandResponse
				Mmc_Init_Vars
					memset
				Mmc_Fat_Get_Info
					Mmc_Read_Sector
						Mmc_Read_Sector_SPI
							Mmc_Select_SPI
							Mmc_Send_Command_SPI
							Mmc_DeSelect_SPI
							ADC1_Get_Sample
							ADC2_Get_Sample
							ADC3_Get_Sample
							SPI1_Read
							SPI2_Read
							SPI3_Read
						Mmc_Write_Sector_SPI
							Mmc_Select_SPI
							Mmc_Send_Command_SPI
							Mmc_DeSelect_SPI
							ADC1_Get_Sample
							ADC2_Get_Sample
							ADC3_Get_Sample
							SPI1_Read
							SPI2_Read
							SPI3_Read
						Mmc_Read_Sector_SDIO
							SDIO_DataConfig
							SDIO_DMACmd
							SDIO_SendCommand
							CmdResp1Error
							SDIO_GetFlagStatus
							SDIO_ReadData
							SDIO_ClearFlag
						Mmc_Write_Sector_SDIO
							SDIO_DataConfig
							SDIO_DMACmd
							SDIO_SendCommand
							CmdResp1Error
							SDIO_GetFlagStatus
							SDIO_WriteData
							SDIO_ClearFlag
							IsCardProgramming
					getBoot
						Mmc_Read_Sector
						f16_toInt
					f16_toLong
			Mmc_Fat_Assign
				Mmc_Fat_Open
					checkFileName
						strlen
					nameToUpper
						toupper
					memcpy
					stat
						f16_normalize
							memset
							isspace
							strcmp
							memcpy
						Mmc_Multi_Read_Start
							Mmc_Multi_Read_Start_SPI
								Mmc_Select_SPI
								Mmc_Send_Command_SPI
								Mmc_DeSelect_SPI
							Mmc_Multi_Write_Start_SPI
								Mmc_Select_SPI
								Mmc_Send_Command_SPI
								Mmc_DeSelect_SPI
								ADC1_Get_Sample
								ADC2_Get_Sample
								ADC3_Get_Sample
								SPI1_Read
								SPI2_Read
								SPI3_Read
							Mmc_Multi_Read_Start_SDIO
								SDIO_DataConfig
								SDIO_DMACmd
								SDIO_SendCommand
								CmdResp1Error
							Mmc_Multi_Write_Start_SDIO
								SDIO_DataConfig
								SDIO_DMACmd
								SDIO_SendCommand
								CmdResp1Error
						Mmc_Multi_Read_Sector
							Mmc_Read_Cid_SPI
								Mmc_Select_SPI
								Mmc_Send_Command_SPI
								Mmc_DeSelect_SPI
								ADC1_Get_Sample
								ADC2_Get_Sample
								ADC3_Get_Sample
								SPI1_Read
								SPI2_Read
								SPI3_Read
							Mmc_Read_Csd_SPI
								Mmc_Select_SPI
								Mmc_Send_Command_SPI
								Mmc_DeSelect_SPI
								ADC1_Get_Sample
								ADC2_Get_Sample
								ADC3_Get_Sample
								SPI1_Read
								SPI2_Read
								SPI3_Read
							Mmc_Multi_Read_Sector_SPI
								Mmc_Wait_Data_Ready_SPI
									ADC1_Get_Sample
									ADC2_Get_Sample
									ADC3_Get_Sample
									SPI1_Read
									SPI2_Read
									SPI3_Read
								ADC1_Get_Sample
								ADC2_Get_Sample
								ADC3_Get_Sample
								SPI1_Read
								SPI2_Read
								SPI3_Read
							Mmc_Multi_Write_Sector_SPI
								Mmc_DeSelect_SPI
								ADC1_Get_Sample
								ADC2_Get_Sample
								ADC3_Get_Sample
								SPI1_Read
								SPI2_Read
								SPI3_Read
							Mmc_Read_Cid_SDIO
							Mmc_Read_Csd_SDIO
							Mmc_Multi_Read_Sector_SDIO
								SDIO_GetFlagStatus
								SDIO_ReadData
								SDIO_ClearFlag
							Mmc_Multi_Write_Sector_SDIO
								SDIO_GetFlagStatus
								SDIO_WriteData
								SDIO_ClearFlag
						memcmp
						Mmc_Multi_Read_Stop
							Mmc_Init_SPI
							Mmc_Multi_Read_Stop_SPI
							Mmc_Multi_Write_Stop_SPI
							Mmc_Init_SDIO
							Mmc_Multi_Read_Stop_SDIO
							Mmc_Multi_Write_Stop_SDIO
						f16_DirentToDir
							f16_toLong
							f16_toInt
					memset
					mkNod
						f16_toInt
						getFatFreeCluster
							Mmc_Multi_Read_Start
							Mmc_Multi_Read_Sector
							Mmc_Multi_Read_Stop
						putFatEntry
							Mmc_Read_Sector
							Mmc_Write_Sector
								Mmc_Read_Sector_SPI
								Mmc_Write_Sector_SPI
								Mmc_Read_Sector_SDIO
								Mmc_Write_Sector_SDIO
						Mmc_Multi_Read_Start
						Mmc_Multi_Read_Sector
						Mmc_Multi_Read_Stop
						memcpy
						Mmc_Write_Sector
			Mmc_Fat_Reset
				Mmc_Fat_Seek
					getFatEntry
						Mmc_Read_Sector
						f16_toInt
		InitializeTouchPanel
			Init_ADC
				ADC_Set_Input_Channel
					GPIO_Analog_Input
						GPIO_Config
				ADC1_Init
					ADCx_Init
						RCC_GetClocksFrequency
							Get_Fosc_kHz
			TFT_Init
				Is_TFT_Set
				TFT_Set_Pen
				TFT_Set_Brush
				TFT_Move_Cursor
				TFT_Set_DataPort_Direction
					GPIO_Config
				TFT_Reset_Device
					TFT_Set_Pin_Directions
						GPIO_Config
					Delay_100ms
					TFT_Set_Reg
						TFT_Set_Index
							Write_to_Port
						TFT_Write_Command
							Write_to_Port
						TFT_SSD1963_8bit_Set_Index
							Delay_1us
							Write_to_Port
						TFT_SSD1963YT_8bit_Write_Command
							Write_to_Port
							Delay_1us
					Is_TFT_Rotated_180
					Delay_5ms
					Delay_10ms
			TFT_Set_Ext_Buffer
			TP_TFT_Init
				GPIO_Config
			TP_TFT_Set_ADC_Threshold
		TFT_Fill_Screen
			Is_SSD1963_Set
			TFT_Set_Address_SSD1963II
				Is_TFT_Rotated_180
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address_SST7715R
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address_HX8352A
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address_R61526
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address_ILI9481
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address_ILI9342
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			TFT_Set_Address_ILI9340
				TFT_Set_Index
				TFT_Write_Command
				TFT_SSD1963_8bit_Set_Index
				TFT_SSD1963YT_8bit_Write_Command
			SPI1_Write
				SPIx_Read
			SPI2_Write
				SPIx_Read
			SPI3_Write
				SPIx_Read
			TFT_Write_Data
				Write_to_Port
			TFT_16bit_Write_Data
			TFT_SSD1963_8bit_Write_Data
				TFT_SSD1963YT_8bit_Write_Command
		Calibrate
			TFT_Set_Pen
			TFT_Set_Font
			TFT_Write_Text
				TFT_Move_Cursor
				_TFT_Write_Char_E
					_TFT_getHeader
						TFT_Get_Data
							Mmc_Get_File_Write_Sector
							Mmc_Multi_Read_Sector
							Mmc_Multi_Read_Stop
							Mmc_Multi_Read_Start
					TFT_Dot
						Is_SSD1963_Set
						TFT_Set_Address_SSD1963II
						TFT_Set_Address
						TFT_Set_Address_SST7715R
						TFT_Set_Address_HX8352A
						TFT_Set_Address_R61526
						TFT_Set_Address_ILI9481
						TFT_Set_Address_ILI9342
						TFT_Set_Address_ILI9340
						SPI1_Write
						SPI2_Write
						SPI3_Write
						TFT_Write_Data
						TFT_16bit_Write_Data
						TFT_SSD1963_8bit_Write_Data
					TFT_Get_Data
				_TFT_Write_Char
					TFT_Set_Font
					TFT_Dot
			TFT_Line
				TFT_Move_Cursor
				TFT_V_Line
					TFT_Dot
				TFT_H_Line
					Is_SSD1963_Set
					TFT_Dot
					TFT_Set_Address_SSD1963II
					TFT_Set_Address
					TFT_Set_Address_SST7715R
					TFT_Set_Address_HX8352A
					TFT_Set_Address_R61526
					TFT_Set_Address_ILI9481
					TFT_Set_Address_ILI9342
					TFT_Set_Address_ILI9340
					SPI1_Write
					SPI2_Write
					SPI3_Write
					TFT_Write_Data
					TFT_16bit_Write_Data
					TFT_SSD1963_8bit_Write_Data
				TFT_Dot
			TP_TFT_Calibrate_Min
				TP_TFT_Press_Detect_Cal
					Delay_5ms
					Delay_1ms
					ADC1_Get_Sample
					ADC2_Get_Sample
					ADC3_Get_Sample
					SPI1_Read
					SPI2_Read
					SPI3_Read
				TP_TFT_GetX_Cal
					Delay_5ms
					ADC1_Get_Sample
					ADC2_Get_Sample
					ADC3_Get_Sample
					SPI1_Read
					SPI2_Read
					SPI3_Read
				TP_TFT_GetY_Cal
					Delay_5ms
					ADC1_Get_Sample
					ADC2_Get_Sample
					ADC3_Get_Sample
					SPI1_Read
					SPI2_Read
					SPI3_Read
			TP_TFT_Calibrate_Max
				TP_TFT_Press_Detect_Cal
				TP_TFT_GetX_Cal
				TP_TFT_GetY_Cal
		InitializeObjects
		DrawScreen
			TFT_Init
			TFT_Set_Ext_Buffer
			TP_TFT_Init
			TP_TFT_Set_ADC_Threshold
			TFT_Fill_Screen
			DrawRoundButton
				TFT_Set_Brush
				TFT_Set_Pen
				TFT_Rectangle_Round_Edges
					TFT_Set_Pen
					TFT_GetCurrentColor
						TFT_Color16bitToRGB
						TFT_RGBToColor16bit
					TFT_H_Line
					TFT_V_Line
					_TFT_Circle_Fill
						TFT_Set_Pen
						TFT_GetCurrentColor
						TFT_H_Line
						TFT_V_Line
					TFT_Line
				TFT_Set_Ext_Font
					_TFT_getHeader
				TFT_Write_Text_Return_Pos
					_TFT_Get_Char_WidthE
						_TFT_getHeader
					_TFT_Get_Char_Width
						TFT_Set_Font
				TFT_Write_Text
			DrawLabel
				TFT_Set_Ext_Font
				TFT_Write_Text
			DrawCircleButton
				TFT_Set_Brush
				TFT_Set_Pen
				TFT_Circle
					_TFT_Circle_Fill
					TFT_Dot
				TFT_Set_Ext_Font
				TFT_Write_Text_Return_Pos
				TFT_Write_Text
			DrawBox
				TFT_Set_Brush
				TFT_Set_Pen
				TFT_Rectangle
					TFT_H_Line
					TFT_V_Line
					TFT_GetCurrentColor
					TFT_Set_Pen
			DrawImage
				TFT_Ext_Image
					_TFT_getHeader
					TFT_Image1bppE
						Is_SSD1963_Set
						TFT_Set_Address_SSD1963II
						TFT_Set_Address
						TFT_Set_Address_SST7715R
						TFT_Set_Address_HX8352A
						TFT_Set_Address_R61526
						TFT_Set_Address_ILI9481
						TFT_Set_Address_ILI9342
						TFT_Set_Address_ILI9340
						TFT_Get_Data
						SPI1_Write
						SPI2_Write
						SPI3_Write
						TFT_Write_Data
						TFT_16bit_Write_Data
						TFT_SSD1963_8bit_Write_Data
					TFT_Image4bppE
						Is_SSD1963_Set
						TFT_Get_Data
						TFT_Set_Address_SSD1963II
						TFT_Set_Address
						TFT_Set_Address_SST7715R
						TFT_Set_Address_HX8352A
						TFT_Set_Address_R61526
						TFT_Set_Address_ILI9481
						TFT_Set_Address_ILI9342
						TFT_Set_Address_ILI9340
						SPI1_Write
						SPI2_Write
						SPI3_Write
						TFT_Write_Data
						TFT_16bit_Write_Data
						TFT_SSD1963_8bit_Write_Data
					TFT_Image8bppE
						Is_SSD1963_Set
						TFT_Get_Data
						TFT_Set_Address_SSD1963II
						TFT_Set_Address
						TFT_Set_Address_SST7715R
						TFT_Set_Address_HX8352A
						TFT_Set_Address_R61526
						TFT_Set_Address_ILI9481
						TFT_Set_Address_ILI9342
						TFT_Set_Address_ILI9340
						SPI1_Write
						SPI2_Write
						SPI3_Write
						TFT_Write_Data
						TFT_16bit_Write_Data
						TFT_SSD1963_8bit_Write_Data
					TFT_Image16bppE
						Is_SSD1963_Set
						TFT_Set_Address_SSD1963II
						TFT_Set_Address
						TFT_Set_Address_SST7715R
						TFT_Set_Address_HX8352A
						TFT_Set_Address_R61526
						TFT_Set_Address_ILI9481
						TFT_Set_Address_ILI9342
						TFT_Set_Address_ILI9340
						TFT_Get_Data
						SPI1_Write
						SPI2_Write
						SPI3_Write
						TFT_Write_Data
						TFT_16bit_Write_Data
						TFT_SSD1963_8bit_Write_Data
			DrawRadioButton
				TFT_Set_Pen
				TFT_Set_Ext_Font
				TFT_Set_Brush
				TFT_Circle
				TFT_Write_Text_Return_Pos
				TFT_Write_Text
			DrawProgressBar
				TFT_Set_Brush
				TFT_Set_Pen
				TFT_Rectangle_Round_Edges
				TFT_Rectangle
				WordToStr
				DeleteTrailingSpaces
					strlen
				strcpy
				strcat
				TFT_Set_Ext_Font
				TFT_Write_Text_Return_Pos
				TFT_Write_Text
	Check_TP
		TP_TFT_Press_Detect
			Delay_300us
				Delay_50us
			ADC1_Get_Sample
			ADC2_Get_Sample
			ADC3_Get_Sample
			SPI1_Read
			SPI2_Read
			SPI3_Read
		TP_TFT_Get_Coordinates
			TP_TFT_GetX
				Delay_300us
				ADC1_Get_Sample
				ADC2_Get_Sample
				ADC3_Get_Sample
				SPI1_Read
				SPI2_Read
				SPI3_Read
			TP_TFT_GetY
				Delay_300us
				ADC1_Get_Sample
				ADC2_Get_Sample
				ADC3_Get_Sample
				SPI1_Read
				SPI2_Read
				SPI3_Read
		Process_TP_Press
			Get_Object
				IsInsideObject
			DCVA_START
				DrawScreen
			Show_database
				DrawScreen
				ValueZero
				TFT_RGBToColor16bit
				TFT_Dot
				DrawLabel
				TFT_Line
				TFT_V_Line
			DCVA_TEST
				DrawScreen
				div
				TFT_Fill_Screen
				IntToStr
					WordToStr
				TFT_Write_Text
				TFT_RGBToColor16bit
				TFT_Dot
				sqrt
					frexp
					ldexp
				FloatToStr
					strcpy
			J_E_2
				DrawScreen
			J_E_3
				DrawScreen
			J_E_4
				DrawScreen
			J_E_5
				DrawScreen
			J_E_6
				DrawScreen
			J_E_7
				DrawScreen
			J_E_8
				DrawScreen
			J_E_9
				DrawScreen
			DCVA_TRAINING
				ValueZero
				DrawScreen
				div
				TFT_Write_Text
				fabs
				IntToStr
				sqrt
				TFT_Dot
				TFT_Fill_Screen
		Process_TP_Down
			Get_Object
			DrawRoundButton
			DrawCircleButton
			DrawBox
			DrawRadioButton
			DCVA_START
			Show_database
			DCVA_TEST
			J_E_2
			J_E_3
			J_E_4
			J_E_5
			J_E_6
			J_E_7
			J_E_8
			J_E_9
			DCVA_TRAINING
		Process_TP_Up
			DrawRoundButton
			DrawCircleButton
			DrawBox
			DrawRadioButton
			Get_Object
			DCVA_START
			Show_database
			DCVA_TEST
			J_E_2
			J_E_3
			J_E_4
			J_E_5
			J_E_6
			J_E_7
			J_E_8
			J_E_9
			DCVA_TRAINING
	__FillZeros
